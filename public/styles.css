:root { font-family: system-ui, "Segoe UI", Tahoma; }
body { margin: 0; background: #0f172a; color: #e2e8f0; }
header { padding: 14px 16px; background:#111827; position:sticky; top:0; }
h1 { margin:0; font-size:1.25rem; }
button { padding:8px 12px; border:0; border-radius:10px; cursor:pointer; }
button:hover { opacity:.9; }
.card { background:#1f2937; border-radius:14px; padding:16px; margin:16px; }
label { display:block; margin:.5rem 0; }
input[type="number"], input[type="date"], input[type="text"] { padding:6px 8px; border-radius:8px; border:1px solid #374151; background:#0b1220; color:#e2e8f0; }
ul { padding-inline-start:20px; }

/* === Gallery cards: لا تتجاوز العرض === */
#galleryGrid .card {
  background: var(--surface);
  border: 1px solid var(--border);
  overflow: hidden;
}
#galleryGrid img {
  display: block;
  width: 100%;
  height: auto;           /* يحافظ على النسبة */
  max-width: 100%;
  object-fit: cover;      /* يظهر الصورة بشكل مليان الإطار */
  border-radius: .5rem;
}

/* === Compare slider responsive === */
#compareWrap { width: 100%; }
#compareWrap .cmp-container {
  position: relative;
  width: 100%;
  max-width: 100%;
  /* fallback نسبة مبدئية 4:3 قبل قياس الصور الفعلي */
  aspect-ratio: 4 / 3;
  background: #111;
  border-radius: .75rem;
  overflow: hidden;
}
#compareWrap .cmp-container img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain; /* ما يقتطع الصورة */
  user-select: none;
  -webkit-user-drag: none;
}
#compareWrap .cmp-mask {
  position: absolute;
  inset: 0;
  overflow: hidden;
  width: 50%;
}
#compareWrap .cmp-range {
  position: absolute;
  left: 0; right: 0; bottom: .5rem;
  width: 96%;
  margin: 0 auto;
  z-index: 3;
}

/* مقبض مرئي في الوسط */
#compareWrap .cmp-handle {
  position: absolute;
  top: 0; bottom: 0;
  left: 50%;
  width: 2px;
  transform: translateX(-1px);
  background: rgba(255,255,255,.8);
  box-shadow: 0 0 0 1px rgba(0,0,0,.2);
  z-index: 2;
}
#compareWrap .cmp-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 28px; height: 28px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: rgba(255,255,255,.9);
  box-shadow: 0 2px 8px rgba(0,0,0,.35);
  border: 1px solid rgba(0,0,0,.15);
}

/* المودال نفسه يكون Responsive */
#compareModal .modal-dialog {
  max-width: min(100vw - 1rem, 900px);
  margin: 1rem auto;
}
#compareModal .modal-body {
  padding: 0.75rem;
}
